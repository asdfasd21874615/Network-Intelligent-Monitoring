2025-03-01 16:38:33,731 ERROR: 数据收集出错: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO alert (device_id, timestamp, alert_type, message, severity, resolved, resolved_time, resolved_by, resolution_notes) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]
[parameters: (1, 1740818184.177841, 'high_latency', '设备 核心交换机 (192.168.1.1) 延迟过高: 191.5ms > 100ms', 'warning', 0, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8) [in C:\Users\28637\Desktop\demo1\实例3\app.py:352]
2025-03-01 16:45:17,646 INFO: 网络监控平台启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:43]
2025-03-01 16:45:17,661 INFO: 数据收集后台任务启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:500]
2025-03-01 16:45:17,663 ERROR: 数据收集出错: (sqlite3.OperationalError) no such column: device.ssh_enabled
[SQL: SELECT device.id AS device_id, device.name AS device_name, device.ip_address AS device_ip_address, device.device_type AS device_device_type, device.status AS device_status, device.snmp_community AS device_snmp_community, device.snmp_port AS device_snmp_port, device.location AS device_location, device.description AS device_description, device.last_seen AS device_last_seen, device.os_type AS device_os_type, device.os_version AS device_os_version, device.ssh_enabled AS device_ssh_enabled, device.ssh_username AS device_ssh_username, device.ssh_password AS device_ssh_password, device.ssh_port AS device_ssh_port, device.ssh_key_file AS device_ssh_key_file, device.ssh_last_connected AS device_ssh_last_connected 
FROM device]
(Background on this error at: https://sqlalche.me/e/20/e3q8) [in C:\Users\28637\Desktop\demo1\实例3\app.py:545]
2025-03-01 16:45:18,360 INFO: 网络监控平台启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:43]
2025-03-01 16:45:18,376 INFO: 数据收集后台任务启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:500]
2025-03-01 16:45:18,379 ERROR: 数据收集出错: (sqlite3.OperationalError) no such column: device.ssh_enabled
[SQL: SELECT device.id AS device_id, device.name AS device_name, device.ip_address AS device_ip_address, device.device_type AS device_device_type, device.status AS device_status, device.snmp_community AS device_snmp_community, device.snmp_port AS device_snmp_port, device.location AS device_location, device.description AS device_description, device.last_seen AS device_last_seen, device.os_type AS device_os_type, device.os_version AS device_os_version, device.ssh_enabled AS device_ssh_enabled, device.ssh_username AS device_ssh_username, device.ssh_password AS device_ssh_password, device.ssh_port AS device_ssh_port, device.ssh_key_file AS device_ssh_key_file, device.ssh_last_connected AS device_ssh_last_connected 
FROM device]
(Background on this error at: https://sqlalche.me/e/20/e3q8) [in C:\Users\28637\Desktop\demo1\实例3\app.py:545]
2025-03-01 16:45:47,666 ERROR: 数据收集出错: (sqlite3.OperationalError) no such column: device.ssh_enabled
[SQL: SELECT device.id AS device_id, device.name AS device_name, device.ip_address AS device_ip_address, device.device_type AS device_device_type, device.status AS device_status, device.snmp_community AS device_snmp_community, device.snmp_port AS device_snmp_port, device.location AS device_location, device.description AS device_description, device.last_seen AS device_last_seen, device.os_type AS device_os_type, device.os_version AS device_os_version, device.ssh_enabled AS device_ssh_enabled, device.ssh_username AS device_ssh_username, device.ssh_password AS device_ssh_password, device.ssh_port AS device_ssh_port, device.ssh_key_file AS device_ssh_key_file, device.ssh_last_connected AS device_ssh_last_connected 
FROM device]
(Background on this error at: https://sqlalche.me/e/20/e3q8) [in C:\Users\28637\Desktop\demo1\实例3\app.py:545]
2025-03-01 16:45:48,382 ERROR: 数据收集出错: (sqlite3.OperationalError) no such column: device.ssh_enabled
[SQL: SELECT device.id AS device_id, device.name AS device_name, device.ip_address AS device_ip_address, device.device_type AS device_device_type, device.status AS device_status, device.snmp_community AS device_snmp_community, device.snmp_port AS device_snmp_port, device.location AS device_location, device.description AS device_description, device.last_seen AS device_last_seen, device.os_type AS device_os_type, device.os_version AS device_os_version, device.ssh_enabled AS device_ssh_enabled, device.ssh_username AS device_ssh_username, device.ssh_password AS device_ssh_password, device.ssh_port AS device_ssh_port, device.ssh_key_file AS device_ssh_key_file, device.ssh_last_connected AS device_ssh_last_connected 
FROM device]
(Background on this error at: https://sqlalche.me/e/20/e3q8) [in C:\Users\28637\Desktop\demo1\实例3\app.py:545]
2025-03-01 16:46:22,524 INFO: 网络监控平台启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:43]
2025-03-01 16:46:22,540 INFO: 数据收集后台任务启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:500]
2025-03-01 16:47:17,734 INFO: 网络监控平台启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:43]
2025-03-01 16:47:17,751 INFO: 数据收集后台任务启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:559]
2025-03-01 16:47:26,337 INFO: 网络监控平台启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:43]
2025-03-01 16:47:26,354 INFO: 数据收集后台任务启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:559]
2025-03-01 16:47:27,154 INFO: 网络监控平台启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:43]
2025-03-01 16:47:27,170 INFO: 数据收集后台任务启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:559]
2025-03-01 16:48:31,937 INFO: 通过SSH获取了设备信息: 192.168.56.100 [in C:\Users\28637\Desktop\demo1\实例3\app.py:161]
2025-03-01 16:49:15,962 INFO: 通过SSH获取了设备信息: 192.168.56.100 [in C:\Users\28637\Desktop\demo1\实例3\app.py:161]
2025-03-01 16:49:23,308 INFO: 网络监控平台启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:43]
2025-03-01 16:49:23,325 INFO: 数据收集后台任务启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:565]
2025-03-01 16:50:14,426 INFO: 网络监控平台启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:43]
2025-03-01 16:50:14,442 INFO: 数据收集后台任务启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:613]
2025-03-01 16:50:55,846 ERROR: 数据收集出错: 'NoneType' object is not subscriptable [in C:\Users\28637\Desktop\demo1\实例3\app.py:545]
2025-03-01 16:52:14,004 INFO: 网络监控平台启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:43]
2025-03-01 16:52:14,021 INFO: 数据收集后台任务启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:613]
2025-03-01 16:52:15,439 ERROR: 数据收集出错: 'NoneType' object is not subscriptable [in C:\Users\28637\Desktop\demo1\实例3\app.py:545]
2025-03-01 16:52:53,058 INFO: 网络监控平台启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:43]
2025-03-01 16:52:53,077 INFO: 数据收集后台任务启动 [in C:\Users\28637\Desktop\demo1\实例3\app.py:663]
2025-03-01 16:53:10,214 ERROR: 数据收集出错: 'NoneType' object is not subscriptable [in C:\Users\28637\Desktop\demo1\实例3\app.py:545]
2025-03-01 16:54:29,819 ERROR: 数据收集出错: 'NoneType' object is not subscriptable [in C:\Users\28637\Desktop\demo1\实例3\app.py:545]
2025-03-01 16:55:27,469 ERROR: 数据收集出错: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO alert (device_id, timestamp, alert_type, message, severity, resolved, resolved_time, resolved_by, resolution_notes) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]
[parameters: (2, 1740819222.698362, 'high_packet_loss', '设备 边界路由器 (192.168.1.2) 丢包率过高: 9.6% > 5%', 'warning', 0, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8) [in C:\Users\28637\Desktop\demo1\实例3\app.py:708]
2025-03-01 16:55:49,442 ERROR: 数据收集出错: 'NoneType' object is not subscriptable [in C:\Users\28637\Desktop\demo1\实例3\app.py:545]
2025-03-01 16:55:57,472 ERROR: 数据收集出错: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO alert (device_id, timestamp, alert_type, message, severity, resolved, resolved_time, resolved_by, resolution_notes) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]
[parameters: (2, 1740819222.698362, 'high_packet_loss', '设备 边界路由器 (192.168.1.2) 丢包率过高: 9.6% > 5%', 'warning', 0, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8) (Background on this error at: https://sqlalche.me/e/20/7s2a) [in C:\Users\28637\Desktop\demo1\实例3\app.py:708]
2025-03-01 16:56:27,474 ERROR: 数据收集出错: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO alert (device_id, timestamp, alert_type, message, severity, resolved, resolved_time, resolved_by, resolution_notes) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]
[parameters: (2, 1740819222.698362, 'high_packet_loss', '设备 边界路由器 (192.168.1.2) 丢包率过高: 9.6% > 5%', 'warning', 0, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8) (Background on this error at: https://sqlalche.me/e/20/7s2a) [in C:\Users\28637\Desktop\demo1\实例3\app.py:708]
2025-03-01 16:56:57,477 ERROR: 数据收集出错: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlite3.OperationalError) database is locked
[SQL: INSERT INTO alert (device_id, timestamp, alert_type, message, severity, resolved, resolved_time, resolved_by, resolution_notes) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]
[parameters: (2, 1740819222.698362, 'high_packet_loss', '设备 边界路由器 (192.168.1.2) 丢包率过高: 9.6% > 5%', 'warning', 0, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8) (Background on this error at: https://sqlalche.me/e/20/7s2a) [in C:\Users\28637\Desktop\demo1\实例3\app.py:708]
